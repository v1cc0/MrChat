# 项目进度

## 当前重点
- 基于现有 Hummingbird 代码梳理的成果，制定聊天界面重构路径与 Turso 本地库方案。

## 已完成
- 读取并梳理 `src/ui`、`src/settings`、`src/services`、`src/media` 等核心模块的职责。
- 识别出 `gpui` 驱动的组件体系（按钮、输入框、模态框、主题）可作为聊天界面的基础。
- 初步整理 Playback/Library 扫描线程等与音频播放高度耦合的部分，后续将作为迁移/替换重点。
- 明确聊天后端统一通过 HTTP API 访问（无论远程还是本地 LLM 服务）。

## 待办
- 设计新的聊天域模型（会话、消息、上下文存储）并映射到 GPUI 的 `Entity`/`Global` 状态。
- 拟定 UI 线路图：对齐现有窗口骨架（`WindowShadow`）及组件布局，规划对话列表区、消息区、输入区。
- 定义 Turso 本地数据库模式（会话表/消息表），并确认与现有 `settings::Storage` 的职责边界。
- 规划 API Key 与 Turso 连接配置的存放方式，确保热更新与启动流程一致。
- 绘制服务层设计（LLM 请求、消息流式处理、错误重试），与 UI/模型层接口契合。
